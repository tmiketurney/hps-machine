#####################################################################
#
# FILE : target.process
#
# DESC : Process leaf targets are defined here
#
# CVS  : $Id: target.process,v 1.6 2003/10/10 20:58:35 tmike Exp $
#
#        $Log: target.process,v $
#        Revision 1.6  2003/10/10 20:58:35  tmike
#        hide dependency lines with "@"
#
#        Revision 1.5  2003/10/07 22:53:45  tmike
#        fixed dependency bug with local libraries
#
#        Revision 1.4  2003/09/30 05:03:02  tmike
#        Major Project Milestone, first BETA release
#
#        Revision 1.3  2003/09/27 22:47:40  tmike
#        Attempted to fix local library dependency issue
#
#        Revision 1.2  2003/09/23 18:30:24  tmike
#        SHM working, attempting to verify MSG
#
#        Revision 1.1  2003/08/26 19:20:45  tmike
#        Initial check-in of RPMS : Recursive Project Make System
#
#
#	Copyright (c) 2003 Tools Made Tough
#
#####################################################################

TARGET = $(LEAF)
CLEAN += $(PBIN)/core.* $(PBIN)/$(TARGET) core.* $(TARGET)

all : $(PBIN)/$(TARGET)

$(PBIN)/$(TARGET) : $(TARGET)
	$(COPY) $(TARGET) $(PBIN)

$(TARGET) : $(OBJECTS)
	$(CC) $(C_FLAGS) -o $(LEAF) $(OBJECTS) $(LD_FLAGS)

clean :
	$(REMOVE) $(CLEAN)

depend :
	$(REMOVE) $(LEAF).dpd
	$(TOUCH) $(LEAF).dpd
	@echo "$(LEAF) : $(PLIB)/libio.a " >> $(LEAF).dpd
	@echo "$(LEAF) : $(PLIB)/libmessage.a" >> $(LEAF).dpd
	@echo "$(LEAF) : $(PLIB)/libmemory.a" >> $(LEAF).dpd
	@echo "$(LEAF) : $(PLIB)/liblog.a" >> $(LEAF).dpd
	@for file in $(SOURCES) ; do \
		$(CC) $(INCLUDE) -MM $$file >> $(LEAF).dpd ; \
	done

